<div class="submission-evaluation">
  <form class="filter-form" (ngSubmit)="onGoClick()">
    <label for="districtSelect" class="dropdown-label">District</label>
    <select
      id="districtSelect"
      [(ngModel)]="selectedDistrict"
      name="district"
      class="dropdown-select"
    >
      <option [ngValue]="null">All</option>
      <option *ngFor="let d of districts" [ngValue]="d.id">
        {{ d.name }}
      </option>
    </select>
    <button type="submit" class="go-btn" [disabled]="loading">GO</button>
  </form>

  <div *ngIf="loading" class="loading-msg">Loading...</div>
  <div *ngIf="error" class="error-msg">{{ error }}</div>

  <div
    class="chart-section"
    *ngIf="!loading && !error && chartLabels.length"
    style="max-width: 700px; margin: 2rem auto;"
  >
    <canvas
      baseChart
      [data]="{ labels: chartLabels, datasets: chartData }"
      [options]="chartOptions"
    ></canvas>

    <button class="back-button" (click)="onBack()">Back</button>
  </div>
</div>
